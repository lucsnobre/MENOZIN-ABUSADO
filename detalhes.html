<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalhes da Skin</title>
    <style>
        @font-face {
            font-family: 'Helonik Extended';
            src: url(./fonts/Gotham-Bold.otf);
        }

        body {
            background-color: #121212;
            color: white;
            font-family: 'Helonik Extended', sans-serif;
            margin: 0;
            padding: 0;
        }

        .container {
            width: 80%;
            margin: 0 auto;
            padding: 50px 0;
            display: flex;
            flex-direction: column;
            gap: 50px;
        }

        .skin-details {
            display: flex;
            align-items: flex-start;
            gap: 60px;
        }

        .skin-image img {
            width: 400px;
            height: auto;
            object-fit: contain;
        }

        .skin-info {
            flex: 1;
        }

        .skin-info h1 {
            font-size: 64px;
            color: #FFD32D;
            margin: 0 0 20px 0;
        }

        .divider {
            height: 2px;
            width: 100%;
            margin: 20px 0;
            background: linear-gradient(90deg, #FFFFFF 0%, #FFD32D 100%);
            border: none;
        }

        .skin-description {
            color: #CCCCCC;
            font-size: 20px;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .skin-attributes {
            display: flex;
            flex-direction: column;
            gap: 10px;
            color: #CCCCCC;
            font-size: 27px;
        }

        .skin-attributes span {
            color: #FFFFFF;
        }

        .cases-container {
            margin-top: 20px;
            text-align: center;
        }

        .cases-container h2 {
            font-size: 24px;
            color: #FFFFFF;
        }

        .cases-list {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .case-item {
            background-color: #3F3C38;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            width: 150px;
        }

        .case-item img {
            width: 100px;
            border-radius: 5px;
        }

        /* Caso não haja caixa disponível */
        .no-cases {
            color: #FFFFFF;
            font-size: 20px;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="skin-details">
            <div class="skin-image">
                <img id="skinImage" src="./images/desert_eagle_blaze.png" alt="Skin">
            </div>
            <div class="skin-info">
                <h1 id="skinName">Desert Eagle Blaze</h1>
                <hr class="divider">
                <p class="skin-description" id="skinDescription">
                    As expensive as it is powerful, the Desert Eagle is an iconic pistol that is difficult to master but surprisingly accurate at long range. It has been painted by airbrushing transparent paints over a chrome base coat.
                </p>
                <hr class="divider">
                <div class="skin-attributes">
                    <p><strong>Raridade:</strong> <span id="skinRarity">Loading...</span></p>
                    <p><strong>Coleção:</strong> <span id="skinCollection">Loading...</span></p>
                    <p><strong>Arma:</strong> <span id="skinWeapon">Loading...</span></p>
                    <p><strong>Categoria:</strong> <span id="skinCategory">Loading...</span></p>
                </div>
            </div>
        </div>

        <div class="cases-container">
            <h2>Encontrado nas caixas:</h2>
            <div class="cases-list" id="casesList">
                <!-- Itens serão carregados aqui -->
            </div>
            <p class="no-cases" id="noCases">Nenhuma caixa disponível</p>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const skin = JSON.parse(localStorage.getItem('selectedSkin'));

            if (skin) {
                document.getElementById('skinImage').src = skin.image;
                document.getElementById('skinName').innerText = skin.name;
                document.getElementById('skinDescription').innerText = skin.description;

                // Atualiza raridade, coleção, arma e categoria
                const rarityElement = document.getElementById('skinRarity');
                rarityElement.innerText = skin.rarity.name;
                rarityElement.style.color = skin.rarity.color; // Aplica a cor da raridade vinda da API

                document.getElementById('skinCollection').innerText = skin.collection;
                document.getElementById('skinWeapon').innerText = skin.weapon;
                document.getElementById('skinCategory').innerText = skin.category;

                // Atualiza as caixas onde a skin pode ser encontrada
                const casesList = document.getElementById('casesList');
                const noCases = document.getElementById('noCases');

                if (skin.cases && skin.cases.length > 0) {
                    noCases.style.display = 'none';
                    skin.cases.forEach(cs => {
                        let caseItem = document.createElement('div');
                        caseItem.classList.add('case-item');
                        caseItem.innerHTML = `<img src="${cs.image}" alt="${cs.name}"><p>${cs.name}</p>`;
                        casesList.appendChild(caseItem);
                    });
                } else {
                    noCases.style.display = 'block';
                }
            }
        });
    </script>
</body>

</html>
